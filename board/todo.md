# To do

- why am I getting "Exception in monitor thread while connecting to server localhost:27017"?
  - I could try sshing into the url-service and see if it's available https://www.phind.com/search?cache=ez7c1wwyer2cmupytjzvd7w2
    - `curl http://mongo-service:27017/` results in: `It looks like you are trying to access MongoDB over HTTP on the native driver port.`
      - does this mean I have a connection?
  - TODO: I think it's because I'm looking for it on localhost, but I need to be looking for `url-db-service`
  - could it be because I don't have a username and password?
- k8s
  - web server deployment + service
  - mongo deployment  + service
- healcheck
- replicate db
  - using a stateful set?
- add a redis cache
  - set up redis with docker-compose
  - add to k8s
  - update architecture diagram
- shard db
- fix: no exception is thrown if there is a duplicate key
  - using mongosh I get `MongoServerError: E11000 duplicate key error collection: urls.urls index: _id_ dup key: { _id: "40616eb8" }`
- redirect from `/` to `/v1/urls`
- redirect with 301 instead of 302
- seed data with 3 shortened urls
- how to handle www or no www?
- validate long url exists
- persist `https` and `http` as part of `longUrl`?
- separate spring profile for production
